<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.14" />
    <style>
      :root {
        --c-bg: #fff;
      }

      html.dark {
        --c-bg: #22272e;
      }

      html,
      body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme')
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia('(prefers-color-scheme: dark)').matches
      if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
        document.documentElement.classList.toggle('dark', true)
      }
    </script>
    <title>Non-Contact Object Size and Shape Measurement | Hankun Xu</title><meta name="description" content="Hankun Xu's resume">
    <link rel="preload" href="/assets/style-10ckNbAn.css" as="style"><link rel="stylesheet" href="/assets/style-10ckNbAn.css">
    <link rel="modulepreload" href="/assets/app-O5f_D5B5.js"><link rel="modulepreload" href="/assets/Non-contact object size and shape measurement.html-BwxZJjeZ.js"><link rel="modulepreload" href="/assets/图2-D5ZZee1K.js">
    <link rel="prefetch" href="/assets/index.html-f7ZZfJPZ.js" as="script"><link rel="prefetch" href="/assets/index.html-BuxdtHY6.js" as="script"><link rel="prefetch" href="/assets/index.html-CFh3G9PT.js" as="script"><link rel="prefetch" href="/assets/index.html-psVaBq1x.js" as="script"><link rel="prefetch" href="/assets/Brushless motor drive circuit and FOC control algorithm design.html-DlclMQZE.js" as="script"><link rel="prefetch" href="/assets/Car following driving system.html-D_zhVnoS.js" as="script"><link rel="prefetch" href="/assets/High-throughput phenotype monitoring system for potted plants.html-CdJCnSwF.js" as="script"><link rel="prefetch" href="/assets/Moving target control and automatic tracking system.html-DYiGxFtS.js" as="script"><link rel="prefetch" href="/assets/index.html-BMn5zQcD.js" as="script"><link rel="prefetch" href="/assets/Rolling ball control system.html-BXCGG7xJ.js" as="script"><link rel="prefetch" href="/assets/Smart medicine delivery car.html-Bp0FFjuK.js" as="script"><link rel="prefetch" href="/assets/index.html-C_vjeTeH.js" as="script"><link rel="prefetch" href="/assets/index.html-9cYvJ1Ix.js" as="script"><link rel="prefetch" href="/assets/index.html-COsb-CL_.js" as="script"><link rel="prefetch" href="/assets/Brushless motor drive circuit and FOC control algorithm design.html-BWz0IYNR.js" as="script"><link rel="prefetch" href="/assets/Car following driving system.html-Bg1bWqm8.js" as="script"><link rel="prefetch" href="/assets/High-throughput phenotype monitoring system for potted plants.html-BFJQpgBo.js" as="script"><link rel="prefetch" href="/assets/Moving target control and automatic tracking system.html-D3O7dgCl.js" as="script"><link rel="prefetch" href="/assets/Non-contact object size and shape measurement.html-BXWUP5cZ.js" as="script"><link rel="prefetch" href="/assets/index.html-UX73n4MT.js" as="script"><link rel="prefetch" href="/assets/Rolling ball control system.html-BoWgLOpa.js" as="script"><link rel="prefetch" href="/assets/Smart medicine delivery car.html-DOiJaVWa.js" as="script"><link rel="prefetch" href="/assets/index.html-tuowCeH9.js" as="script"><link rel="prefetch" href="/assets/index.html-CZIa59Nm.js" as="script"><link rel="prefetch" href="/assets/Brushless motor drive circuit and FOC control algorithm design.html-3ihBGNpD.js" as="script"><link rel="prefetch" href="/assets/Car following driving system.html-DeXRbr8G.js" as="script"><link rel="prefetch" href="/assets/High-throughput phenotype monitoring system for potted plants.html-C-HElWgW.js" as="script"><link rel="prefetch" href="/assets/Moving target control and automatic tracking system.html-CCQnjFRK.js" as="script"><link rel="prefetch" href="/assets/Non-contact object size and shape measurement.html-xAVOu_S0.js" as="script"><link rel="prefetch" href="/assets/index.html-D8oXJbII.js" as="script"><link rel="prefetch" href="/assets/Rolling ball control system.html-DKA8d-TN.js" as="script"><link rel="prefetch" href="/assets/Smart medicine delivery car.html-DsPcmLG2.js" as="script"><link rel="prefetch" href="/assets/index.html-D4gv_hGE.js" as="script"><link rel="prefetch" href="/assets/404.html-D67EyLKs.js" as="script"><link rel="prefetch" href="/assets/SearchResult-Be8CCkZ7.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon"><!--[--><header class="vp-navbar"><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/"><img class="vp-site-logo" src="/logo.jpg" alt="Hankun Xu"><span class="vp-site-name vp-hide-mobile" aria-hidden="true">Hankun Xu</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/" aria-label="Home"><!---->Home<!----></a></div><div class="vp-navbar-item"><a class="route-link route-link-active auto-link" href="/my-projects/" aria-label="My Projects"><!---->My Projects<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/curriculum-vitae/" aria-label="Curriculum Vitae"><!---->Curriculum Vitae<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/transcript/" aria-label="transcript"><!---->transcript<!----></a></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">Languages</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">Languages</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link route-link-active auto-link" href="/my-projects/Non-contact%20object%20size%20and%20shape%20measurement.html" aria-label="English"><!---->English<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/zh/my-projects/Non-contact%20object%20size%20and%20shape%20measurement.html" aria-label="简体中文"><!---->简体中文<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/jp/my-projects/Non-contact%20object%20size%20and%20shape%20measurement.html" aria-label="日本語"><!---->日本語<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/uint16kun/" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!---->GitHub<!----></a></div><!--]--></nav><!--[--><!--]--><button class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!--[--><button type="button" class="search-pro-button" aria-label="Search"><svg xmlns="http://www.w3.org/2000/svg" class="icon search-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="search icon" name="search"><path d="M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28"></path></svg><div class="search-pro-placeholder">Search</div><div class="search-pro-key-hints"><kbd class="search-pro-key">Ctrl</kbd><kbd class="search-pro-key">K</kbd></div></button><!--]--></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar"><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/" aria-label="Home"><!---->Home<!----></a></div><div class="vp-navbar-item"><a class="route-link route-link-active auto-link" href="/my-projects/" aria-label="My Projects"><!---->My Projects<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/curriculum-vitae/" aria-label="Curriculum Vitae"><!---->Curriculum Vitae<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/transcript/" aria-label="transcript"><!---->transcript<!----></a></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">Languages</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">Languages</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link route-link-active auto-link" href="/my-projects/Non-contact%20object%20size%20and%20shape%20measurement.html" aria-label="English"><!---->English<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/zh/my-projects/Non-contact%20object%20size%20and%20shape%20measurement.html" aria-label="简体中文"><!---->简体中文<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/jp/my-projects/Non-contact%20object%20size%20and%20shape%20measurement.html" aria-label="日本語"><!---->日本語<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/uint16kun/" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!---->GitHub<!----></a></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><a class="route-link route-link-active auto-link vp-sidebar-item vp-sidebar-heading active" href="/my-projects/" aria-label="My Projects"><!---->My Projects<!----></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/my-projects/Moving%20target%20control%20and%20automatic%20tracking%20system.html" aria-label="Moving Target Control and Automatic Tracking System"><!---->Moving Target Control and Automatic Tracking System<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/my-projects/High-throughput%20phenotype%20monitoring%20system%20for%20potted%20plants.html" aria-label="High-Throughput Phenotyping Monitoring System for Potted Plants"><!---->High-Throughput Phenotyping Monitoring System for Potted Plants<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/my-projects/Car%20following%20driving%20system.html" aria-label="Car Following Driving System"><!---->Car Following Driving System<!----></a><!----></li><li><a class="route-link route-link-active auto-link vp-sidebar-item active" href="/my-projects/Non-contact%20object%20size%20and%20shape%20measurement.html" aria-label="Non-Contact Object Size and Shape Measurement"><!---->Non-Contact Object Size and Shape Measurement<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/my-projects/Brushless%20motor%20drive%20circuit%20and%20FOC%20control%20algorithm%20design.html" aria-label="Brushless Motor Drive Circuit and FOC Control Algorithm Design"><!---->Brushless Motor Drive Circuit and FOC Control Algorithm Design<!----></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h2 id="project-tasks-and-requirements" tabindex="-1"><a class="header-anchor" href="#project-tasks-and-requirements"><span><strong>Project Tasks and Requirements</strong></span></a></h2><h3 id="task" tabindex="-1"><a class="header-anchor" href="#task"><span><strong>Task</strong></span></a></h3><p> Design and produce a non-contact automatic measurement device for object shape and size. The layout of the device is shown in Figure 1. The measurement device is placed in the designated measurement area, and the target to be measured is placed in the target placement area. The device can measure the shape, size, and distance between the center point of the measurement head and the target, and use a laser beam to indicate the center position of the target. The background board is placed vertically 5cm behind the target, as shown in Figure 2.</p><div align="center"> Unit: mm <br><img src="/zh/%E9%9D%9E%E6%8E%A5%E8%A7%A6%E7%89%A9%E4%BD%93%E5%B0%BA%E5%AF%B8%E5%BD%A2%E6%80%81%E6%B5%8B%E9%87%8F/%E5%9B%BE1%E6%B5%8B%E8%AF%95%E5%9C%BA%E6%99%AF%E5%B8%83%E7%BD%AE%E5%9B%BE.png" align="middle"><br> Figure 1: Test Scene Layout Diagram <img src="/zh/%E9%9D%9E%E6%8E%A5%E8%A7%A6%E7%89%A9%E4%BD%93%E5%B0%BA%E5%AF%B8%E5%BD%A2%E6%80%81%E6%B5%8B%E9%87%8F/%E5%9B%BE2%E7%9B%AE%E6%A0%87%E6%9D%BF%E5%92%8C%E8%83%8C%E6%99%AF%E6%9D%BF%E6%94%BE%E7%BD%AE%E7%A4%BA%E6%84%8F%E5%9B%BE.png" align="middle"><br> Figure 2: Target Board and Background Board Placement Diagram </div><h3 id="requirements" tabindex="-1"><a class="header-anchor" href="#requirements"><span><strong>Requirements</strong></span></a></h3><ol><li><p>Select a planar target of a regular shape and place it on the centerline of the target placement area. Press the measurement button to start the measurement. After completion, display the target&#39;s side length (or diameter if the target is circular), geometric shape, and distance from the measurement head on the device. The entire measurement and indication process must not exceed 2 minutes.</p></li><li><p>Replace the target board, place the target and background board on the centerline of the placement area, and display the distance, shape, and size (side length). The measurement time must not exceed 2 minutes.</p></li><li><p>Automatic target search and measurement: The measurement head is aligned with the centerline (0º), and the target is placed in the target placement area at any selected position. After pressing the test button, the device automatically searches for the target, measures and displays the distance, shape, size, and uses a laser pointer to indicate the geometric center. The time must not exceed 3 minutes, the shorter the better.</p></li><li><p>Three-dimensional target measurement: Randomly select one from basketball, volleyball, and football, repeat the measurement three times, determine the type of ball, and measure the closest distance to the ball surface. The time must not exceed 2 minutes.</p></li></ol><h2 id="implementation-plan" tabindex="-1"><a class="header-anchor" href="#implementation-plan"><span><strong>Implementation Plan</strong></span></a></h2><h3 id="abstract" tabindex="-1"><a class="header-anchor" href="#abstract"><span><!----></span></a></h3><p> This non-contact automatic measurement device for object shape and size is designed with the ESP32-S3 microcontroller as the control core of the entire system, supplemented by related peripheral circuits. It can automatically measure the shape, size, and distance between the center point of the measurement head and the target, and use a laser beam to indicate the center position of the target. The system consists of buttons, motor drive module, motor, communication module, OLED display, power module, and recognition module. In the hardware circuit, a camera is used to identify the shape, size, and distance parameters of the target, the ESP32-S3 microcontroller detects real-time data, and displays the target&#39;s side length (or diameter if the target is circular), geometric shape, and distance from the measurement head on the display. In the software aspect, C++ programming and python3.6 are used to implement the measurement of the target&#39;s side length, geometric shape, and distance from the measurement head through the microcontroller program.</p><h3 id="scheme-demonstration" tabindex="-1"><a class="header-anchor" href="#scheme-demonstration"><span><strong>Scheme Demonstration</strong></span></a></h3><h4 id="voltage-reduction-selection" tabindex="-1"><a class="header-anchor" href="#voltage-reduction-selection"><span><strong>Voltage Reduction Selection</strong></span></a></h4><p><strong>Option 1</strong>: Use <strong>Linear Regulator Power Supply</strong> (LDO). The outstanding advantages of low dropout linear regulators are the lowest cost, lowest noise, and lowest quiescent current. Its peripheral devices are also very few, usually only one or two bypass capacitors. However, the efficiency of linear power supplies is low, and the heat generation is large, requiring a larger heat dissipation area, and is only suitable for low dropout conversion and some occasions requiring a stable power supply voltage, such as supplying power to microcontrollers and other devices.</p><p><strong>Option 2</strong>: Use <strong>Switching Power Supply</strong>. DC-DC includes boost (step-up), buck (step-down), Boost/buck (step-up/step-down), and inverting structures, with high efficiency, high output current, and low quiescent current. Compared to LDO, the power switch is small in size and suitable for high dropout conversion. Therefore, the switching power supply is used in this system.</p><h4 id="image-processing-module" tabindex="-1"><a class="header-anchor" href="#image-processing-module"><span><strong>Image Processing Module</strong></span></a></h4><p><strong>Option 1</strong>: Use <strong>OpenMv</strong>. OpenMV is an open-source module focused on machine vision, based on the CPython programming language, providing rich image processing and computer vision functions. OpenMv has functions such as face recognition, photo taking, and video recording, but it cannot handle complex algorithms and cannot run for too long.</p><p><strong>Option 2</strong>: Use <strong>K210</strong>. The K210 chip can be used for various embedded artificial intelligence applications, capable of real-time image processing, object detection, face recognition, voice recognition, and natural language processing. The main advantages of the K210 chip are low power consumption and small size, but it is slightly inferior in computational power and graphics processing capabilities.</p><p><strong>Option 3</strong>: Use <strong>Jetson</strong>. The Jetson platform is based on NVIDIA&#39;s GPU architecture, providing rich software support and development tools, making it easier for developers to develop and optimize applications. Compared to OpenMv and K210, Jetson has stronger computational power and graphics processing capabilities, so Jetson is used in this system.</p><h4 id="motor-selection" tabindex="-1"><a class="header-anchor" href="#motor-selection"><span><strong>Motor Selection</strong></span></a></h4><p><strong>Option 1</strong>: Use <strong>Servo Motor</strong>. A servo motor is a motor with position feedback, which can accurately control the motor angle. Servo motors are usually composed of a DC motor, a position sensor, and a control circuit, widely used in robotics, model aircraft, automation equipment, and other fields, capable of precise position control.</p><p><strong>Option 2</strong>: Use <strong>Brushless Motor</strong>. A brushless motor controls the rotor position through an electronic commutator. Brushless motors usually consist of a rotor and a stator, with permanent magnets on the rotor and coils on the stator being alternately energized through the electronic commutator to achieve motor rotation. It has the characteristics of high efficiency, high torque, and high speed. Overall, servo motors are more suitable for precise position control, while brushless motors are more suitable for applications requiring high efficiency, high torque, and high speed. Therefore, brushless motors are used in this system.</p><h4 id="motor-control-selection" tabindex="-1"><a class="header-anchor" href="#motor-control-selection"><span><strong>Motor Control Selection</strong></span></a></h4><p><strong>Option 1</strong>: Use <strong>Six-Step Phase Change</strong>. Six-step phase change is a simple motor control method that controls the rotation of the motor by sequentially switching the three phases of the motor, suitable for some simple motor control applications.</p><p><strong>Option 2</strong>: Use <strong>SVPWM</strong>. SVPWM is an advanced motor control method that controls the motor&#39;s speed and torque by adjusting the motor&#39;s voltage and frequency, with high control accuracy and efficiency, suitable for applications with high requirements for motor control performance. Therefore, SVPWM is used in this system to control the motor.</p><h3 id="system-design-and-implementation" tabindex="-1"><a class="header-anchor" href="#system-design-and-implementation"><span><strong>System Design and Implementation</strong></span></a></h3><p>The overall composition block diagram of the system is shown in Figure 1.</p><div align="center"><img src="/zh/%E9%9D%9E%E6%8E%A5%E8%A7%A6%E7%89%A9%E4%BD%93%E5%B0%BA%E5%AF%B8%E5%BD%A2%E6%80%81%E6%B5%8B%E9%87%8F/%E5%9B%BE1.png" align="middle"><br> Figure 1 </div><h4 id="voltage-reduction-circuit-design" tabindex="-1"><a class="header-anchor" href="#voltage-reduction-circuit-design"><span><strong>Voltage Reduction Circuit Design</strong></span></a></h4><p> Using a switching power supply for voltage reduction is a common power conversion method that can convert high voltage to low voltage to supply power to the load. The step-down switching power supply usually includes an input filter circuit, a switch tube, a transformer, a rectifier circuit, an output filter circuit, and a feedback control circuit. The basic working principle of the step-down switching power supply is to switch the input voltage into a high-frequency pulse signal through the switching action of the switch tube, and then convert it into a stable low-voltage output through the transformer and rectifier circuit, thus converting the 12V power supply to 5V.</p><h4 id="brushless-motor-control-design" tabindex="-1"><a class="header-anchor" href="#brushless-motor-control-design"><span><strong>Brushless Motor Control Design</strong></span></a></h4><p> First, connect the motor, connect the power and control signal lines of the brushless motor to the corresponding pins of the ESP32. Then configure the GPIO pin working mode and level in the ESP32 code, use SVPWM to achieve brushless motor control, and finally control the motor&#39;s rotation through the functions provided by the motor control library.</p><h4 id="laser-rangefinder-design" tabindex="-1"><a class="header-anchor" href="#laser-rangefinder-design"><span><strong>Laser Rangefinder Design</strong></span></a></h4><p> Laser ranging is a method of distance measurement using laser technology. It calculates the distance by emitting a laser pulse and measuring the time from emission to reception of the laser pulse. Laser rangefinders usually consist of a laser emitter, a receiver, a clock, and a calculator. The laser emitter emits a laser pulse, the receiver receives the reflected laser pulse and converts the received signal into an electrical signal. The clock is used to measure the time of the laser pulse, and the calculator is used to calculate the distance.</p><h4 id="image-processing-algorithm-design" tabindex="-1"><a class="header-anchor" href="#image-processing-algorithm-design"><span><strong>Image Processing Algorithm Design</strong></span></a></h4><p> Use template matching and circular Hough transform, as well as their combination, to achieve judgment and recognition of circles, rectangles, and triangles. The circular Hough transform is used to detect circles in the image. The circular Hough transform searches for parameters in the parameter space of circles and lines in the image to find parameters that match the circles and lines in the input image. In the OpenCV library, the HoughCircles function can be used to implement the circular Hough transform algorithm. Template matching and circular Hough transform are combined to detect triangles and rectangles. First, template matching can be used to detect and recognize the edges of triangles and rectangles in the image. Then, the circular Hough transform can be used to detect and recognize circles and lines in the image, further determining the position and shape of triangles and rectangles.</p><h4 id="communication-module-design" tabindex="-1"><a class="header-anchor" href="#communication-module-design"><span><strong>Communication Module Design</strong></span></a></h4><p> Communication using WiFi through the TCP protocol is a common network communication method. The TCP protocol is a reliable transmission protocol that can ensure the reliable transmission of data, ensuring that data is not lost or damaged. Using WiFi as the communication medium can provide high-speed data transmission rates and stable connection quality. Using JSON data formatting to transmit data can facilitate data parsing. JSON is a lightweight data exchange format with good readability and scalability, which can facilitate data parsing and processing. In network communication, using JSON to format data can reduce the size of data transmission and improve the efficiency of data transmission.</p><h3 id="test-plan-and-analysis-of-test-results" tabindex="-1"><a class="header-anchor" href="#test-plan-and-analysis-of-test-results"><span><strong>Test Plan and Analysis of Test Results</strong></span></a></h3><h4 id="test-instruments" tabindex="-1"><a class="header-anchor" href="#test-instruments"><span><strong>Test Instruments</strong></span></a></h4><p>Oscilloscope, voltmeter, adjustable power supply, digital generator, tape measure.</p><h4 id="test-methods" tabindex="-1"><a class="header-anchor" href="#test-methods"><span><strong>Test Methods</strong></span></a></h4><h5 id="distance-test" tabindex="-1"><a class="header-anchor" href="#distance-test"><span>Distance Test</span></a></h5><p> Use monocular camera ranging. In the figure, f is the focal length of the camera, and c is the optical center of the lens. The light emitted by the object passes through the optical center of the camera and then forms an image on the image sensor or, in other words, on the image plane. If the distance between the object plane and the camera plane is d, the actual height of the object is H, and the height on the sensor is h, H must be known to obtain the distance d. The relationship between them is obtained from the similarity of triangles: d/H=f/h. The principle diagram of monocular camera ranging is shown in Figure 2.</p><div align="center"><img src="/zh/%E9%9D%9E%E6%8E%A5%E8%A7%A6%E7%89%A9%E4%BD%93%E5%B0%BA%E5%AF%B8%E5%BD%A2%E6%80%81%E6%B5%8B%E9%87%8F/%E5%9B%BE2.png" align="middle"><br> Figure 2 </div><h5 id="circuit-test" tabindex="-1"><a class="header-anchor" href="#circuit-test"><span>Circuit Test</span></a></h5><p> When testing the circuit, use an oscilloscope to observe and analyze the signal waveforms in the circuit, displaying the waveform diagram of voltage and current over time, helping us understand the working state and performance of the circuit. Use a voltmeter to measure the voltage in the circuit. Use an adjustable power supply to provide adjustable voltage and current, as adjustable power supplies usually have adjustable output voltage and current limits and have overload and short circuit protection functions, so they can be used to test and power various components and devices in the circuit. Use a digital generator to generate adjustable signals. Digital generators usually have multiple output channels and adjustable output parameters, which can be used to test and debug various signal sources and signal processors in the circuit.</p><h4 id="test-results" tabindex="-1"><a class="header-anchor" href="#test-results"><span><strong>Test Results</strong></span></a></h4><p> Under the condition that all indicators of the designed automatic measurement device meet the requirements, multiple tests were conducted on each requirement. Select a planar target of a regular shape and place it on the centerline of the target placement area. Press the measurement button to start the measurement, and the stopwatch starts timing simultaneously. After the measurement is completed, measure the actual value with a ruler, compare it with the measured value, observe the error value, and whether the measurement time exceeds the specified time. As shown in Figure 3.</p><table><thead><tr><th style="text-align:center;"></th><th style="text-align:center;">Measured Distance (mm)</th><th style="text-align:center;">Measured Side Length or Radius (mm)</th><th style="text-align:center;">Actual Side Length (mm)</th></tr></thead><tbody><tr><td style="text-align:center;">Rectangle</td><td style="text-align:center;">2801</td><td style="text-align:center;">190/110</td><td style="text-align:center;">498/293</td></tr><tr><td style="text-align:center;"></td><td style="text-align:center;">2753</td><td style="text-align:center;">193/110</td><td style="text-align:center;">408/293</td></tr><tr><td style="text-align:center;">Triangle</td><td style="text-align:center;">2283</td><td style="text-align:center;">228/227/231</td><td style="text-align:center;">500/500/500</td></tr><tr><td style="text-align:center;"></td><td style="text-align:center;">2513</td><td style="text-align:center;">219/208/208</td><td style="text-align:center;">500/500/500</td></tr><tr><td style="text-align:center;">Circle</td><td style="text-align:center;">2301</td><td style="text-align:center;">112</td><td style="text-align:center;">250</td></tr><tr><td style="text-align:center;"></td><td style="text-align:center;">2787</td><td style="text-align:center;">97</td><td style="text-align:center;">250</td></tr></tbody></table><h4 id="error-reasons" tabindex="-1"><a class="header-anchor" href="#error-reasons"><span><strong>Error Reasons</strong></span></a></h4><p> The instruments used in the experiment may have inherent errors, possibly due to imperfect performance of the instruments, inaccurate calibration, or aging. Changes in the experimental environment may affect the experimental results. Errors may occur during the experiment, such as reading errors, inaccurate instrument placement, etc., which may be due to technical proficiency, non-standard operation, or negligence. Imperfections in the experimental design or inaccuracies in the assumptions may lead to errors. For example, ignoring some influencing factors, insufficient sample size, etc.</p><h3 id="conclusion" tabindex="-1"><a class="header-anchor" href="#conclusion"><span><strong>Conclusion</strong></span></a></h3><p> This system uses the ESP32 as the control core to design an automatic measurement device that can measure the shape, size, and distance between the center point of the measurement head and the target, and use a laser beam to indicate the center position of the target. This system has satisfactorily completed all the basic and advanced requirements of the topic, with overall good performance. However, due to time constraints, the geometric center indication using a laser pointer has not been well realized, and the system needs further improvement and refinement.</p></div><!--[--><!--]--></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="vp-meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: uint16kun">uint16kun</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: no@no.com">no</span><!----><!--]--><!--]--></span></div></div></footer><nav class="vp-page-nav" aria-label="page navigation"><a class="route-link auto-link prev" href="/my-projects/Car%20following%20driving%20system.html" aria-label="Car Following Driving System"><div class="hint"><span class="arrow left"></span> Prev</div><div class="link"><span>Car Following Driving System</span></div></a><a class="route-link auto-link next" href="/my-projects/Brushless%20motor%20drive%20circuit%20and%20FOC%20control%20algorithm%20design.html" aria-label="Brushless Motor Drive Circuit and FOC Control Algorithm Design"><div class="hint">Next <span class="arrow right"></span></div><div class="link"><span>Brushless Motor Drive Circuit and FOC Control Algorithm Design</span></div></a></nav><!--[--><!--]--></main><!--]--></div><!--[--><!----><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-O5f_D5B5.js" defer></script>
  </body>
</html>
